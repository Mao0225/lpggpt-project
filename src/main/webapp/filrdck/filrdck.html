<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>加气站管理</title>
  <!-- Add your custom stylesheets and scripts here -->
  <script src="../css/jquery-3.3.1.min.js"></script>
  <link rel="stylesheet" href="../css/bootstrap-4.3.1-dist/css/bootstrap.min.css" >
  <script src="../css/bootstrap-4.3.1-dist/js/bootstrap.min.js"></script>
  <link rel="stylesheet" type="text/css" href="../css/lpg.css">
</head>
<body>
<div id="pagediv">
  <form id="searchForm" action="/filrdck/filrdcklist" method="get">
    <label> 时间查找：</label>
    <input type="date" name="finditem" value="#(finditem)">
    <label> 加气站查找：</label>
    <input type="text" name="gastion" value="#(gastion)">
    <label> 编号查找：</label>
    <input type="text" name="gasname" value="#(gasname)">
    <input value="提交" type="submit">
    <input type="submit" value="重置" name="refresh"/>
    <script>
      var buttons = document.getElementsByName("refresh");
      for (var i = 0; i < buttons.length; i++) {
        buttons[i].addEventListener('click', function() {
          // 获取所有的输入框并设置为空
          var inputs = document.querySelectorAll('#searchForm input[type=text]');
          for (var j = 0; j < inputs.length; j++) {
            inputs[j].value = "";
          }

          // 提交表单以重新查询并刷新页面
          document.getElementById('searchForm').submit();
        });
      }
    </script>
  </form>
</div>
<table class="list">
  <tbody>
  <tr>
    <th width="4%">序号</th>
    <th width="20%">气瓶编号</th>
    <th width="12%">气瓶终止使用日期</th>
    <th width="12%">充装介质</th>
    <th width="12%">充装规格</th>
        <th width="12%">充装前检查</th>
        <th width="12%">充装后检查</th>
<!--    <th width="30%">充装前检查详细信息</th>-->
<!--    <th width="30%">充装后检查详细信息</th>-->
<!--    <th width="12%">合格与否</th>-->
    <th width="12%">充气时间</th>
    <th width="12%">皮重</th>

    <th width="12%">灌装量</th>
    <th width="12%">充装时长</th>
<!--    <th width="12%">检查结果</th>-->
    <th width="12%">枪号</th>
    <th width="12%">充装人员</th>
    <th width="15%">检查人员</th>
    <th width="12%">所属站点</th>
  </tr>
  #set(startIndex = (filrdck.pageNumber - 1) * filrdck.pageSize + 1)
  #for(x : filrdck.getList())
  <tr>
    <td>#(startIndex++)</td> <!-- 显示序号并递增 -->
    <td>#(x.gas_number)</td>
    <td>#(x.terminate_use_date)</td>
    <td>#(x.filling_medium)</td>
    <td>#(x.filling_specification)</td>
    <td>#(x.before_filling)</td>
    <td>#(x.after_filling)</td>
<!--    <td>#(x.before_filling_check)</td>-->
<!--    <td>#(x.after_filling_check)</td>-->
<!--    <td>#(x.memo)</td>-->
    <td>#(x.fill_time)</td>
    <td>#(x.pressure_begin)</td>
    <td>#(x.now_gas)</td>
    <td>#(x.add_gas_long)</td>
<!--    <td>-->
<!--      #if(x.flag == 10)-->
<!--      充装前不合格-->
<!--      #elseif(x.flag == 20)-->
<!--      匹配不成功的但重装后是否合格未知-->
<!--      #elseif(x.flag == 30)-->
<!--      充装后不合格-->
<!--      #elseif(x.flag == 40)-->
<!--      匹配完成-->
<!--      #end-->
<!--    </td>-->
    <td>#(x.gun_no)</td>
    <td>#(x.filling_staff_name)</td>
    <td>#(x.filling_check_staff_name)</td>
    <td> #set(foundStation = false)
      #for(g : gastiond)
      #if(x.gasstation == g.station_id)
      #(g.station_name)
      #set(foundStation = true)
      #end
      #end
      #if(!foundStation)
      #(x.gasstation)
      #end</td>
  </tr>
  #end
  </tbody>
</table>
<div class="pagination" style="color:#DDDDDD;">
  #@paginate(filrdck.pageNumber,filrdck.totalPage, "/filrdck/filrdcklist?finditem="+(finditem != null ? finditem :'')+ "&gastion=" + (gastion != null ? gastion : '')+ "&gasid=" + (gasname != null ? gasname : '')+"&pageNum=")
</div>




<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="myModalLabel">模态窗口标题</h4>
      </div>
      <div class="modal-body" id="modalBody">
        <!-- 这里将会加载你的表单内容 -->
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
        <button type="button" class="btn btn-primary"  id="saveButton" >保存</button>
        <script>
          document.getElementById('saveButton').addEventListener('click', function() {
            document.getElementById('myForm').submit();
          });
        </script>
      </div>
    </div>
  </div>
</div>
</body>
</html>