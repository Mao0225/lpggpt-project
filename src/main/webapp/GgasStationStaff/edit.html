<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>员工修改</title>
</head>

<body>
<div class="form_box">
    <form action="/GasStationStaff/update" method="post" id="myForm">
        <input type="hidden" name="GasStationStaff.id" value="#(GasStationStaff.id??)" />
        <div>
            <label>员工编号</label>
            <input type="text" name="GasStationStaff.staff_id" value="#(GasStationStaff.staff_id)" />
        </div>
        <div>
            <label>员工名称</label>
            <input type="text" name="GasStationStaff.staff_name" value="#(GasStationStaff.staff_name)" />
        </div>
        <div>
            <label>手机号码</label>
            <input type="text" name="GasStationStaff.telephone" value="#(GasStationStaff.telephone)" />
        </div>
        <div>
            <label>密码</label>
            <input type="text" name="GasStationStaff.password" value="#(GasStationStaff.password)" />
        </div>
        <!--下拉框-->
        <div>
            <label>归属气站</label>
            <!-- 添加 disabled 属性使下拉框只读 -->
            <select name="GasStationStaff.station_id" style="border-radius: 5px;background-color: white " disabled>
                #for ( x: gasStations)
                <option value="#(x.station_id)" #(x.station_id == GasStationStaff.station_id ? "selected" : "")>#(x.stationName)</option>
                #end
            </select>
        </div>
    </form>
    <input hidden id="stationId" value="#(GasStationStaff.stationId)">
</div>

<script>
    // 获取下拉框元素
    var selectElement = document.querySelector('select[name="GasStationStaff.station_id"]');
    var options = selectElement.options;
    // 获取隐藏的 stationId 元素的值
    var stationId = document.getElementById("stationId").value;

    // 检查选项数量，如果只有一个选项（不包括默认选项），则自动选中该选项
    if (options.length === 2) {
        options[1].selected = true;
    } else {
        for (var i = 0; i < options.length; i++) {
            if (options[i].value === stationId) {
                options[i].selected = true;
                break;
            }
        }
    }
</script>
</body>

</html>